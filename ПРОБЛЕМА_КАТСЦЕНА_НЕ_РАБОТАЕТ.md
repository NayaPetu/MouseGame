# Решение: Кат-сцена не запускается после нажатия "Начать"

## Проверка проблемы

Кат-сцена может не запускаться по нескольким причинам. Проверьте следующее:

### 1. Проверьте, что сцена загружается

**Откройте консоль Unity (Window → General → Console)** при запуске игры и нажатии "Начать".

Если видите сообщение:
- `[ImageCutscene] Start вызван. Проверяю настройки...` - значит сцена загрузилась, проблема в настройках
- Если этого сообщения нет - сцена не загружается, проверьте имя сцены

### 2. Настройка сцены IntroCutscene

Откройте сцену `IntroCutscene.unity` и проверьте:

#### Шаг 1: Создайте Canvas и Image (если еще нет)

1. **Создайте Canvas:**
   - GameObject → UI → Canvas
   - Назовите его `Canvas`

2. **Создайте Image для отображения изображений:**
   - Правой кнопкой на Canvas → UI → Image
   - Назовите его `CutsceneImage`
   - Настройте RectTransform:
     - Anchor: **Stretch Stretch**
     - Left, Right, Top, Bottom: все **0**
   - Image Type: **Simple**
   - Preserve Aspect: ✓

#### Шаг 2: Добавьте компонент ImageCutscene

1. **Создайте пустой GameObject:**
   - Правой кнопкой в иерархии → Create Empty
   - Назовите его `ImageCutscene`

2. **Добавьте компонент:**
   - Выберите `ImageCutscene` GameObject
   - Add Component → `ImageCutscene` (Script)

#### Шаг 3: Настройте компонент ImageCutscene

В инспекторе для компонента `ImageCutscene`:

1. **Image Display:**
   - Перетащите `CutsceneImage` (UI Image) в это поле
   - **ВАЖНО:** Если это поле пустое, кат-сцена не будет работать!

2. **Next Scene Name:**
   - Должно быть: `main` (имя следующей сцены)

3. **Fade Speed:**
   - Оставьте `2` (или настройте по желанию)

4. **Images (список):**
   - Нажмите "+" чтобы добавить изображение
   - **ВАЖНО:** Если список пустой, кат-сцена сразу перейдет к следующей сцене!
   
   Для каждого изображения:
   - **Image:** Перетащите Sprite (изображение)
   - **Display Time:** Время показа в секундах (например, 3.0)

#### Шаг 4: Подготовьте изображения как Sprites

1. Добавьте PNG/JPG файлы в проект (например, в `Assets/Sprites/Cutscenes/`)
2. Выберите каждое изображение в проекте
3. В инспекторе установите:
   - **Texture Type:** `Sprite (2D and UI)`
   - Нажмите **Apply**
4. Используйте эти Sprites в списке Images компонента ImageCutscene

### 3. Сохраните сцену

Нажмите **Ctrl+S** чтобы сохранить сцену `IntroCutscene.unity`

### 4. Проверьте имя сцены

Убедитесь, что сцена называется точно `IntroCutscene` (без пробелов, с правильным регистром):
- В Project окне найдите `IntroCutscene.unity`
- Имя файла должно быть `IntroCutscene.unity`

## Типичные ошибки

### Ошибка: "Image Display не назначен"
**Решение:** В компоненте ImageCutscene перетащите UI Image в поле "Image Display"

### Ошибка: "Нет изображений для кат-сцены"
**Решение:** Добавьте хотя бы одно изображение в список "Images" в компоненте ImageCutscene

### Сцена не загружается (черный экран или сразу main)
**Решение:** 
- Проверьте, что сцена `IntroCutscene` добавлена в Build Settings:
  - File → Build Settings
  - Если сцены нет в списке, перетащите её туда

### Кат-сцена сразу переходит к main
**Причины:**
- Список Images пустой
- Image Display не назначен
- Проверьте консоль Unity на наличие сообщений об ошибках

## Быстрая проверка

1. Откройте сцену `IntroCutscene.unity`
2. Найдите GameObject с компонентом `ImageCutscene`
3. В инспекторе проверьте:
   - ✅ Image Display назначен
   - ✅ Images список не пустой (есть хотя бы одно изображение)
   - ✅ Next Scene Name = "main"
4. Запустите игру и нажмите "Начать"
5. Проверьте консоль Unity на наличие сообщений

## Если ничего не помогло

1. Запустите игру и нажмите "Начать"
2. Откройте консоль Unity (Console)
3. Посмотрите на сообщения, начинающиеся с `[ImageCutscene]`
4. Сообщения подскажут, в чем проблема

