# Диагностика: Кат-сцена не загружается (нет отладочных сообщений)

## Проблема
Кат-сцена не загружается, нет отладочных сообщений в консоли, хотя все настроено.

## Возможные причины

### 1. Сцена не добавлена в Build Settings (САМАЯ ЧАСТАЯ ПРОБЛЕМА!)

Если сцена не добавлена в Build Settings, Unity не может её загрузить!

**Решение:**
1. Откройте **File → Build Settings** (или Ctrl+Shift+B)
2. В списке "Scenes In Build" проверьте, есть ли там `IntroCutscene`
3. Если нет:
   - Откройте сцену `IntroCutscene.unity` (дважды кликните на неё в Project)
   - Откройте Build Settings
   - Нажмите кнопку **"Add Open Scenes"**
   - Убедитесь, что `IntroCutscene` появилась в списке
   - Убедитесь, что галочка стоит ✓
4. Закройте Build Settings

### 2. Неправильное имя сцены

**Проверка:**
1. В Project окне найдите файл сцены
2. Убедитесь, что имя файла точно `IntroCutscene.unity` (без пробелов, правильный регистр)
3. В Build Settings проверьте, что имя сцены совпадает с тем, что в коде (`"IntroCutscene"`)

### 3. Компонент ImageCutscene неактивен или отсутствует

**Проверка:**
1. Откройте сцену `IntroCutscene.unity`
2. В иерархии найдите GameObject с компонентом `ImageCutscene`
3. Убедитесь, что:
   - GameObject активен (галочка в иерархии стоит ✓)
   - Компонент ImageCutscene включен (галочка в инспекторе стоит ✓)

### 4. Сцена загружается, но сразу переходит дальше

Если сцена загружается, но сразу переходит к main, проверьте:
1. Консоль Unity - должны быть сообщения `[ImageCutscene]`
2. Если сообщений нет - компонент не запускается
3. Если есть сообщение "Нет изображений" - список Images пустой

## Пошаговая диагностика

### Шаг 1: Проверьте Build Settings

1. **File → Build Settings** (Ctrl+Shift+B)
2. Проверьте список "Scenes In Build"
3. Убедитесь, что `IntroCutscene` есть в списке и отмечена галочкой ✓
4. Если нет - добавьте через "Add Open Scenes"

### Шаг 2: Проверьте код загрузки сцены

1. Откройте `Assets/Scripts/Uii/MainMenuUI.cs`
2. Убедитесь, что в методе `OnStartGame()` есть строка:
   ```csharp
   SceneManager.LoadScene("IntroCutscene");
   ```
3. Имя сцены должно точно совпадать (регистр важен!)

### Шаг 3: Проверьте сцену IntroCutscene

1. Откройте сцену `IntroCutscene.unity`
2. Убедитесь, что есть GameObject с компонентом `ImageCutscene`
3. Проверьте настройки компонента:
   - Image Display: назначен
   - Images: есть хотя бы одно изображение
   - Next Scene Name: "main"

### Шаг 4: Проверьте консоль при запуске

1. Откройте консоль Unity: **Window → General → Console**
2. Запустите игру
3. Нажмите кнопку "Начать"
4. Посмотрите на сообщения в консоли

**Ожидаемые сообщения:**
- `[MainMenuUI] OnStartGame вызван! Загружаю сцену IntroCutscene...`
- `[ImageCutscene] Awake вызван! Компонент ImageCutscene инициализируется.`
- `[ImageCutscene] Start вызван. Проверяю настройки...`

**Если нет никаких сообщений:**
- Сцена не загружается (проверьте Build Settings!)
- Или есть ошибка компиляции (проверьте консоль на красные сообщения)

### Шаг 5: Проверьте на ошибки компиляции

1. Откройте консоль Unity
2. Проверьте, есть ли красные сообщения об ошибках
3. Если есть - исправьте их (обычно это синтаксические ошибки в скриптах)

## Быстрое решение

**САМОЕ ВЕРОЯТНОЕ РЕШЕНИЕ:**

1. Откройте сцену `IntroCutscene.unity`
2. **File → Build Settings**
3. Нажмите **"Add Open Scenes"**
4. Убедитесь, что `IntroCutscene` в списке с галочкой ✓
5. Закройте Build Settings
6. Сохраните проект (Ctrl+S)
7. Запустите игру снова

## Проверка через код

Если ничего не помогло, добавьте временную проверку:

В `MainMenuUI.cs` в методе `OnStartGame()` добавьте проверку:

```csharp
public void OnStartGame()
{
    Debug.Log("[MainMenuUI] OnStartGame вызван!");
    
    // Проверка доступности сцены
    if (Application.CanStreamedLevelBeLoaded("IntroCutscene"))
    {
        Debug.Log("[MainMenuUI] Сцена IntroCutscene доступна для загрузки");
        SceneManager.LoadScene("IntroCutscene");
    }
    else
    {
        Debug.LogError("[MainMenuUI] Сцена IntroCutscene НЕ доступна! Проверьте Build Settings!");
        // Загружаем main напрямую в качестве запасного варианта
        SceneManager.LoadScene("main");
    }
}
```

Если видите сообщение "Сцена IntroCutscene НЕ доступна" - это значит, что сцена не добавлена в Build Settings!

