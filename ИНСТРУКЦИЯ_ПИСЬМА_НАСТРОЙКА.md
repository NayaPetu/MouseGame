# Инструкция по настройке LetterSpawner в Unity Editor

## Проблема
Письма не спавнятся в игре, хотя спавн-поинты есть.

## Шаги для настройки в Unity Editor

### Шаг 1: Создание GameObject LetterSpawner в сцене main

1. Откройте сцену `main.unity` в Unity Editor
2. В иерархии (Hierarchy) найдите GameObject `ItemSpawner` (он должен быть там)
3. Создайте новый пустой GameObject:
   - Правой кнопкой в иерархии → Create Empty
   - Назовите его `LetterSpawner`
   - Переместите его на один уровень с `ItemSpawner` (не в дочерние объекты!)

### Шаг 2: Добавление компонента LetterSpawner

1. Выберите GameObject `LetterSpawner` в иерархии
2. В инспекторе (Inspector) нажмите "Add Component"
3. Найдите и добавьте компонент `LetterSpawner` (Script)

### Шаг 3: Настройка компонента LetterSpawner

В инспекторе для `LetterSpawner` настройте следующие параметры:

1. **Letter Prefab** - **ВАЖНО!**
   - Перетащите префаб `Letter` из папки `Assets/Prefabs/Items/Letter.prefab`
   - Это самое важное поле - без него письма не будут спавниться!

2. **Spawn Point Tag** - должно быть: `SpawnPoint_Letter`
   - Это тег для спавн-поинтов писем

3. **Min Count** - установите `1` (или нужное минимальное количество)

4. **Max Count** - установите `1` (или нужное максимальное количество)

5. **Collision Layers** - настройте так же, как у `ItemSpawner`:
   - Выберите те же слои, что и у ItemSpawner (обычно это Floor и Walls слои)

6. **Check Radius** - оставьте `0.5` (можно оставить по умолчанию)

7. **Max Attempts** - оставьте `20` (можно оставить по умолчанию)

### Шаг 4: Проверка тега SpawnPoint_Letter

1. Убедитесь, что тег `SpawnPoint_Letter` создан:
   - Edit → Project Settings → Tags and Layers
   - В разделе "Tags" добавьте `SpawnPoint_Letter` (если его еще нет)

2. Убедитесь, что спавн-поинты в префабах этажей имеют правильный тег:
   - Откройте префаб этажа (например, `Floor_1 1.prefab` или `Basement.prefab`)
   - Найдите GameObject'ы, которые должны быть спавн-поинтами для писем
   - В инспекторе для каждого такого GameObject:
     - В верхней части инспектора, где указан "Tag", выберите `SpawnPoint_Letter`

### Шаг 5: Проверка LetterManager

1. В сцене `main.unity` должен быть GameObject с компонентом `LetterManager`
2. Убедитесь, что в `LetterManager`:
   - Настроены письма для основного этажа (Main Floor Letters)
   - Настроены письма для подвала (Basement Letters)
   - Каждое письмо имеет уникальный ID

### Шаг 6: Сохранение и тестирование

1. Сохраните сцену `main.unity` (Ctrl+S)
2. Запустите игру
3. Проверьте консоль Unity (Console) на наличие сообщений:
   - `[LetterSpawner] Spawning X letter(s)...` - означает, что система работает
   - `[LetterSpawner] Letter prefab is not assigned!` - означает, что не назначен префаб
   - `[LetterSpawner] No spawn points with tag 'SpawnPoint_Letter' found...` - означает, что нет спавн-поинтов
   - `[LetterSpawner] No letters available for floor...` - означает проблему с LetterManager

## Возможные проблемы и решения

### Письма не появляются вообще

1. **Проверьте, что Letter Prefab назначен** - это самая частая проблема!
2. Проверьте консоль Unity на наличие предупреждений
3. Убедитесь, что спавн-поинты имеют тег `SpawnPoint_Letter`
4. Убедитесь, что LetterManager содержит письма для текущего этажа

### Письма появляются, но их слишком мало

- Увеличьте `Max Count` в компоненте `LetterSpawner`
- Добавьте больше спавн-поинтов с тегом `SpawnPoint_Letter` в префабы этажей

### Письма появляются, но не в тех местах

- Проверьте позиции спавн-поинтов в префабах этажей
- Убедитесь, что спавн-поинты активны (не выключены)

## Примечания

- **Важно:** LetterSpawner должен находиться в сцене main, а не в префабах этажей
- LetterSpawner работает так же, как ItemSpawner - оба находятся в сцене main
- Код автоматически ищет LetterSpawner через `FindFirstObjectByType<LetterSpawner>()`


