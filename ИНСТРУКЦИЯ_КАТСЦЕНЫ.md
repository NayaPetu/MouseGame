# Инструкция: Настройка кат-сцен с изображениями

## Что было сделано

Создан новый скрипт `ImageCutscene.cs`, который заменяет старую систему видео-кат-сцен на систему изображений.

## Возможности новой системы

- ✅ Набор упорядоченных изображений
- ✅ Автоматическая смена изображений через заданное время
- ✅ Клик мышкой для досрочного перехода к следующему изображению
- ✅ Настраиваемое время для каждого изображения
- ✅ Плавные переходы между изображениями (fade in/out)

## Настройка в Unity Editor

### Шаг 1: Подготовка UI для кат-сцены

1. Откройте сцену кат-сцены (например, `IntroCutscene.unity` или `EndCutscene.unity`)

2. Создайте UI структуру (если еще нет):
   - Создайте Canvas (если нет): GameObject → UI → Canvas
   - Создайте Image для отображения изображений:
     - Правой кнопкой на Canvas → UI → Image
     - Назовите его `CutsceneImage` (или другое удобное имя)
     - Настройте RectTransform так, чтобы Image занимал весь экран:
       - Anchor: Stretch Stretch
       - Left, Right, Top, Bottom: все по 0
       - Image Type: Simple
       - Preserve Aspect: ✓ (чтобы сохранялись пропорции изображений)

### Шаг 2: Добавление компонента ImageCutscene

1. Создайте пустой GameObject:
   - Правой кнопкой в иерархии → Create Empty
   - Назовите его `ImageCutscene` (или `CutsceneController`)

2. Добавьте компонент ImageCutscene:
   - Выберите созданный GameObject
   - Add Component → `ImageCutscene` (Script)

### Шаг 3: Настройка компонента ImageCutscene

В инспекторе для компонента `ImageCutscene`:

1. **Image Display:**
   - Перетащите созданный UI Image (`CutsceneImage`) в это поле

2. **Next Scene Name:**
   - Введите имя сцены, которая загрузится после кат-сцены
   - Для IntroCutscene: `main`
   - Для EndCutscene: `EndGame` (или другое имя финальной сцены)

3. **Fade Speed:**
   - Скорость появления/исчезновения изображений (по умолчанию 2)
   - Чем больше значение, тем быстрее переход
   - Рекомендуется: 2-5

4. **Images (список изображений):**
   - Нажмите на "+" чтобы добавить новое изображение
   - Для каждого изображения:
     - **Image:** Перетащите Sprite (изображение) в это поле
     - **Display Time:** Время показа этого изображения в секундах (например, 3.0)

   - Добавьте столько изображений, сколько нужно для кат-сцены
   - Порядок в списке определяет порядок показа

### Шаг 4: Удаление старого VideoCutscene (опционально)

Если в сцене есть старый компонент `VideoCutscene`:
- Удалите его (он больше не нужен)

### Шаг 5: Подготовка изображений (Sprites)

1. Добавьте изображения в проект:
   - Перетащите PNG/JPG файлы в папку `Assets/Sprites/Cutscenes/` (или другую подходящую папку)

2. Настройте изображения как Sprites:
   - Выберите изображение в проекте
   - В инспекторе установите:
     - Texture Type: **Sprite (2D and UI)**
     - Нажмите "Apply"

3. Используйте эти Sprites в списке Images компонента ImageCutscene

## Пример настройки

Пример для IntroCutscene с 3 изображениями:

```
ImageCutscene:
  Image Display: CutsceneImage (Image)
  Next Scene Name: main
  Fade Speed: 2
  
  Images:
    [0]
      Image: IntroImage1 (Sprite)
      Display Time: 4.0
    [1]
      Image: IntroImage2 (Sprite)
      Display Time: 3.5
    [2]
      Image: IntroImage3 (Sprite)
      Display Time: 5.0
```

## Управление кат-сценой

- **Автоматический переход:** Каждое изображение показывается указанное время, затем автоматически переключается на следующее
- **Досрочный переход:** Кликните левой кнопкой мыши в любое время, чтобы сразу перейти к следующему изображению
- **После последнего изображения:** Автоматически загружается следующая сцена

## Советы

1. **Время показа:**
   - Обычно: 2-5 секунд на изображение
   - Для важных сцен: 4-8 секунд
   - Для быстрых переходов: 1-2 секунды

2. **Размер изображений:**
   - Рекомендуется использовать изображения того же разрешения, что и разрешение игры
   - Или больше, чтобы при масштабировании качество не терялось

3. **Плавные переходы:**
   - Fade Speed 2-3 дает приятные плавные переходы
   - Меньше значение = медленнее переход
   - Больше значение = быстрее переход

4. **Тестирование:**
   - Запустите игру и проверьте кат-сцену
   - Убедитесь, что все изображения загружаются правильно
   - Проверьте время показа каждого изображения
   - Протестируйте клик мышкой для досрочного перехода

## Миграция со старой системы

Если у вас была старая система VideoCutscene:

1. Откройте сцены `IntroCutscene.unity` и `EndCutscene.unity`
2. Найдите GameObject с компонентом `VideoCutscene`
3. Удалите компонент `VideoCutscene` (или весь GameObject)
4. Следуйте инструкции выше для создания новой системы

Код в `MenuButtons.cs` и `CheeseFactory.cs` останется без изменений - они просто загружают сцены кат-сцен.

